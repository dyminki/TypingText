<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>JSDoc: Source: TypingText.jsx</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link
      type="text/css"
      rel="stylesheet"
      href="styles/prettify-tomorrow.css"
    />
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css" />
  </head>

  <body>
    <div id="main">
      <h1 class="page-title">Source: TypingText.jsx</h1>

      <section>
        <article>
          <pre class="prettyprint source linenums"><code>/**
 * @author Barbara Sadowska &lt;barbara.sadowska@hotmail.com> dyminki
 */
import React from 'react';
/** TypingText Component */
export default class TypingText extends React.Component {
    /**
     * Create component.
     * @param {Object} props - string or array
     */
    constructor(props) {
        super(props);
        this.text = this.props.text;
        this.state = {
            text: ''
        }
    }
    /**
     * Lifecycle method.
     * Indicates what method to use for props text.
     */
    componentDidMount() {
        if(typeof this.text === "string"){
            this.startSentence(this.text);
        }else{
            this.startSentenses(this.text);
        }
    }
    /**
     * Clearing state - helper method.
     */
    clearState(){
        this.setState({
            text: ''
        });
    }
    /**
     * Pausing execusion by given time - helper method.
     * @param {number} time - number
     * @return {Promise} Promise returned after given time.
     */
    pause(time){
        return new Promise(resolve => setTimeout(resolve, time));
    }
    /**
     * Return value as a Promise.
     * @param {string} x - letter
     * @return {Promise} Promise representing given value.
     */
    returnVal(x){
        return new Promise((resolve) => {
            resolve(x);
        });
    }
    /**
     * Add text from props to state async.
     * @async
     * @param {string} sentence - sentence
     * @return {Promise} Promise representing fully displayed sentence.
     */
    sentence(sentence){
        return new Promise(async(resolve) => {
            
            let str = '';
            for(const letter of sentence.split('') ){
                await this.pause(this.props.speed);
                let result = await this.returnVal(letter);
                str +=result;

                this.setState({
                    text: str
                })
            }
            resolve();
        });
    }
    /**
     * Writing a sentence letter by letter with or without delay.
     * @async
     * @param {string} sentence - sentence
     */
    async startSentence(sentence) {
        await this.pause(this.props.delay);
        await this.sentence(sentence)
    }
    /**
     * Writing an array of sentences letter by letter with delay between and optional startDelay.
     * @async
     * @param {Array} sentencesArray - array od sentences
     */
    async startSentenses(sentencesArray){
       setTimeout(async () => {
        for(const sen of sentencesArray){         
            await this.pause(this.props.delay);
            await this.clearState();
            await this.sentence(sen);
        }
       }, this.props.startDelay);
    }
    /**
     * Component render method.
     * @return {div} Elemnt with text from state.
     */
    render(){
        return &lt;div> { this.state.text } &lt;/div>
    }
}

export { TypingText }</code></pre>
        </article>
      </section>
    </div>

    <nav>
      <h2><a href="index.html">Home</a></h2>
      <h3>Classes</h3>
      <ul>
        <li><a href="module.exports.html">exports</a></li>
      </ul>
      <h3>Global</h3>
      <ul>
        <li><a href="global.html#clearState">clearState</a></li>
        <li><a href="global.html#componentDidMount">componentDidMount</a></li>
        <li><a href="global.html#pause">pause</a></li>
        <li><a href="global.html#render">render</a></li>
        <li><a href="global.html#returnVal">returnVal</a></li>
        <li><a href="global.html#sentence">sentence</a></li>
        <li><a href="global.html#startSentence">startSentence</a></li>
        <li><a href="global.html#startSentenses">startSentenses</a></li>
      </ul>
    </nav>

    <br class="clear" />

    <footer>
      Documentation generated by
      <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Aug 01
      2018 11:10:30 GMT+0200 (CEST)
    </footer>

    <script>
      prettyPrint();
    </script>
    <script src="scripts/linenumber.js"></script>
  </body>
</html>
